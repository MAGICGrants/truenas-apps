groups:
  - name: Monero Node
    description: Configure Monero Node
  - name: Monero Wallet RPC
    description: Configure Monero Wallet
  # TODO
  # - name: Onion Monero Explorer
  #   description: Configure Onion Monero Explorer
  # - name: Networking
  #   description: Configure Networking

questions:
  - variable: node
    label: ""
    group: Monero Node
    schema:
      type: dict
      attrs:
        - variable: enabled
          label: Enabled
          schema:
            type: boolean
            required: true
            default: false
        - variable: pruned
          label: Pruned mode
          schema:
            type: boolean
            required: true
            default: true
            show_if: [["enabled", "=", true]]
        - variable: publicly_available
          label: Advertise as a publicly-available
          schema:
            type: boolean
            required: true
            default: false
            show_if: [["enabled", "=", true]]
        - variable: dns_blocklist
          label: Enable community DNS blocklist
          schema:
            type: boolean
            required: true
            default: true
            show_if: [["enabled", "=", true]]
        - variable: logging
          label: Enable logging
          schema:
            type: boolean
            required: true
            default: false
            show_if: [["enabled", "=", true]]
        - variable: log_file_path
          label: Log file location
          schema:
            type: path
            required: true
            show_if: [["enabled", "=", true], ["logging", "=", true]]
        - variable: additional_flags
          label: Additional flags (https://getmonero.dev/interacting/monerod#options)
          schema:
            type: string
            required: false
        - variable: blockchain_path
          label: Blockchain storage location
          schema:
            type: path
            required: true
            show_if: [["enabled", "=", true]]

        - variable: remote_node_url
          label: Remote node URL
          schema:
            type: string
            required: true
            show_if: [["enabled", "=", false]]
        - variable: ssl_enabled
          label: Enable SSL
          schema:
            type: boolean
            required: true
            default: true
            show_if: [["enabled", "=", false]]
        - variable: trust_daemon
          label: Trust this daemon
          schema:
            type: boolean
            required: true
            default: false
            show_if: [["enabled", "=", false]]

  - variable: wallet
    label: ""
    group: Monero Wallet RPC
    schema:
      type: dict
      attrs:
        - variable: enabled
          label: Enabled
          schema:
            type: boolean
            required: true
            default: false
        - variable: wallet_path
          label: Wallet storage location
          schema:
            type: path
            required: true
            show_if: [["enabled", "=", true]]
        - variable: port
          label: Port
          schema:
            type: int
            required: true
            default: 18083
            $ref:
              - definitions/port
            show_if: [["enabled", "=", true]]

  # TODO
  # - variable: explorer
  #   label: ""
  #   group: Onion Monero Explorer
  #   schema:
  #     type: dict
  #     attrs:
  #       - variable: enabled
  #         label: Enabled
  #         schema:
  #           type: boolean
  #           required: true
  #           default: false
  #       - variable: api_enabled
  #         label: API enabled
  #         schema:
  #           type: boolean
  #           required: true
  #           default: true
  #           show_if: [["enabled", "=", true]]
  #       - variable: additional_flags
  #         label: Additional flags (https://github.com/moneroexamples/onion-monero-blockchain-explorer?tab=readme-ov-file#the-explorers-command-line-options)
  #         schema:
  #           type: string
  #           required: false
  #           show_if: [["enabled", "=", true]]

  # - variable: networking
  #   label: ""
  #   group: Networking
  #   schema:
  #     type: dict
  #     attrs:
  #       - variable: ipv6_enabled
  #         label: Enable IPv6
  #         schema:
  #           type: boolean
  #           required: true
  #           default: false
  #       - variable: tor_connections_enabled
  #         label: Enable Tor connections
  #         schema:
  #           type: boolean
  #           required: true
  #           default: false
  #       - variable: tor_port
  #         label: Tor port
  #         schema:
  #           type: int
  #           required: true
  #           $ref:
  #             - definitions/port
  #           show_if: [["tor_connections_enabled", "=", true]]
  #       - variable: i2p_connections_enabled
  #         label: Enable I2P connections
  #         schema:
  #           type: boolean
  #           required: true
  #       - variable: allow_only_local_and_non_clearnet
  #         label: Only allow local and non-clearnet connections
  #         schema:
  #           type: boolean
  #           required: true
  #           default: false
